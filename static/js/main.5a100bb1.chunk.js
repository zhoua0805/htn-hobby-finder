(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{212:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},286:function(e,t,n){},310:function(e,t){},311:function(e,t){},319:function(e,t){},325:function(e,t,n){"use strict";n.r(t);var r=n(27),a=n(12),s=n.n(a),c=n(142),i=n.n(c),o=(n(283),n(17)),u=n(16),l=n(40),b=n(39),h=(n(284),n(150)),j=n(44),m=n(255),d=Object(m.a)(),p=n(155),g=n(9),f=n.n(g),O=n(14),v=n(94),x=(n(286),n(287),n(329)),y=n(328),w=n.p+"static/media/logo.999173d2.svg",k=function(e){Object(l.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"componentWillMount",value:function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="navbarLink";switch(this.props.page){case"image":e+=" navbarSelected";break;case"video":" navbarSelected";break;case"communities":" navbarSelected"}return Object(r.jsxs)(x.a,{expand:"md",fixed:"top",children:[Object(r.jsx)(x.a.Brand,{style:{position:"absolute"},children:Object(r.jsx)(h.b,{to:"/",children:Object(r.jsx)("img",{src:w,className:"d-inline-block align-top navbarIcon",alt:"Frosh Week Icon"})})}),Object(r.jsx)("div",{className:"sticky-top",style:{position:"absolute",display:"inline-block",float:"right",top:"2.7px",right:"0vw"},children:Object(r.jsx)(x.a.Toggle,{"aria-controls":"navbar-id",className:"sticky-top"})}),Object(r.jsx)("div",{className:"navbarTitle",children:"SUPERPOSE"}),Object(r.jsx)(x.a.Collapse,{id:"navbar-id",className:"justify-content-center",children:Object(r.jsx)("div",{className:e,children:Object(r.jsx)(y.a,{children:Object(r.jsx)(h.b,{to:"/",children:"SuperPose"})})})})]})}}]),n}(a.Component),C=n(95),I=(n(212),n.p+"static/media/cat.86c53b1d.png"),R=n.p+"static/media/cat2.4b8c61b9.jpg",P=n.p+"static/media/cat3.6929308e.jpg",N=n(208),S=n.n(N),M=n(204);function _(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function E(e){var t=_(e,e);return Math.sqrt(t)}function T(e,t){var n=_(e,t);return Math.sqrt(2*(1-n))}function B(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=Math.abs((e[r]-t[r])/e[r]);return n}function D(){return(D=Object(O.a)(f.a.mark((function e(t,n){var r,a,s,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.load().then((function(e){return e.estimateSinglePose(t,{flipHorizontal:!0})})).then((function(e){var t=[];for(var n in e)for(var r in e[n])for(var a in e[n][r])t.push(e[n][r][a].x),t.push(e[n][r][a].y);return t=(t=t.filter((function(e){return void 0!==e}))).map((function(e){return e/E(t)}))}));case 2:return r=e.sent,e.next=5,M.load().then((function(e){return e.estimateSinglePose(n,{flipHorizontal:!0})})).then((function(e){var t=[];for(var n in e)for(var r in e[n])for(var a in e[n][r])t.push(e[n][r][a].x),t.push(e[n][r][a].y);return t=(t=t.filter((function(e){return void 0!==e}))).map((function(e){return e/E(t)}))}));case 5:return a=e.sent,s=T(r,a),c=B(r,a),i={result:s,error:c},e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e,t){return D.apply(this,arguments)},H=n(204),F=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],U=function(e){Object(l.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).onChangeOne=function(e,t){console.log(e,t),r.setState({myImage:e})},r.onChangeTwo=function(e,t){console.log(e,t),r.setState({targetImage:e})},r.state={myImage:[],targetImage:[],pose:void 0},r.onChangeOne=r.onChangeOne.bind(Object(v.a)(r)),r.onChangeTwo=r.onChangeTwo.bind(Object(v.a)(r)),r.onChangeRunButton=r.onChangeRunButton.bind(Object(v.a)(r)),r.estimatePoseMatch=r.estimatePoseMatch.bind(Object(v.a)(r)),r.myImageRef=s.a.createRef(),r.targetImageRef=s.a.createRef(),r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"onChangeRunButton",value:function(){var e=Object(O.a)(f.a.mark((function e(){var t,n,r,a,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.myImageRef.current,n=this.targetImageRef.current,e.next=4,L(t,n);case 4:r=e.sent,console.log(r),a={message:"",best:"",worst:"",img:""},r.result>.25?(a.message="Needs More Work!",a.img=P):r.result>.15?(a.message="Almost there!",a.img=R):(a.message="Excellent!",a.img=I),s=r.error.reduce((function(e,t,n,r){return t>r[e]?n:e}),0),c=r.error.reduce((function(e,t,n,r){return t>r[e]?e:n}),0),console.log(s),a.best=F[Math.floor(s/2)],a.worst=F[Math.floor(c/2)],this.setState({pose:a});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"estimatePoseMatch",value:function(){var e=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.load();case 2:return n=e.sent,e.next=5,n.estimateSinglePose(t,{flipHorizontal:!1});case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{children:[Object(r.jsx)(k,{page:"image"}),Object(r.jsxs)(C.Container,{className:"start",children:[Object(r.jsxs)(C.Row,{children:[Object(r.jsxs)(C.Col,{className:"column",children:[" Please upload your personal image here",Object(r.jsx)(S.a,{multiple:!1,value:this.state.myImage,onChange:this.onChangeOne,dataURLKey:"data_url",children:function(t){var n=t.imageList,a=t.onImageUpload,s=t.onImageRemove,c=t.isDragging,i=t.dragProps;return Object(r.jsxs)("div",{className:"upload__image-wrapper",children:[Object(r.jsx)("button",Object(p.a)(Object(p.a)({class:"btn btn-primary mybutton",type:"button",style:c?{color:"red"}:void 0,onClick:a},i),{},{children:"Click or Drop here"})),Object(r.jsx)("br",{}),n.map((function(t,n){return Object(r.jsxs)("div",{className:"image-item",children:[Object(r.jsx)("img",{src:t.data_url,alt:"",width:"200",ref:e.myImageRef}),Object(r.jsx)("div",{className:"image-item__btn-wrapper",children:Object(r.jsx)("button",{class:"btn btn-primary removeButton",type:"button",onClick:function(){return s(n)},children:"Remove"})})]},n)}))]})}})]}),Object(r.jsxs)(C.Col,{className:"column",children:[" Please upload the pro (target) image here",Object(r.jsx)(S.a,{multiple:!1,value:this.state.targetImage,onChange:this.onChangeTwo,dataURLKey:"data_url",children:function(t){var n=t.imageList,a=t.onImageUpload,s=t.onImageRemove,c=t.isDragging,i=t.dragProps;return Object(r.jsxs)("div",{className:"upload__image-wrapper",children:[Object(r.jsx)("button",Object(p.a)(Object(p.a)({class:"btn btn-primary mybutton",type:"button",style:c?{color:"red"}:void 0,onClick:a},i),{},{children:"Click or Drop here"})),Object(r.jsx)("br",{}),n.map((function(t,n){return Object(r.jsxs)("div",{className:"image-item",children:[Object(r.jsx)("img",{src:t.data_url,alt:"",width:"200",ref:e.targetImageRef}),Object(r.jsx)("div",{className:"image-item__btn-wrapper",children:Object(r.jsx)("button",{class:"btn btn-primary removeButton",type:"button",onClick:function(){return s(n)},children:"Remove"})})]},n)}))]})}})]})]}),Object(r.jsx)("button",{type:"button",class:"btn btn-primary btn-lg",onClick:function(){return e.onChangeRunButton()},children:"Compare"})]}),this.state.pose?Object(r.jsxs)("div",{className:"results",children:[" ",Object(r.jsxs)(C.Row,{children:[Object(r.jsx)(C.Col,{children:Object(r.jsx)("img",{src:this.state.pose.img,width:"400"})}),Object(r.jsxs)(C.Col,{children:[Object(r.jsxs)("h1",{children:[this.state.pose.message," "]}),Object(r.jsxs)("h3",{children:["You did great on: ",this.state.pose.best]}),Object(r.jsxs)("h3",{children:["You should improve on: ",this.state.pose.worst]})]})]})]}):void 0]})}}]),n}(a.Component),W=n.p+"static/media/man.16bb15ec.png",z=n(204),K=function(e){Object(l.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).estimatePoseOnImage=r.estimatePoseOnImage.bind(Object(v.a)(r)),r.IMG=s.a.createRef(),r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),console.log("Image element: ");var e=this.IMG.current;console.log(e);var t=this.estimatePoseOnImage(e);console.log(t)}}]),Object(u.a)(n,[{key:"estimatePoseOnImage",value:function(){var e=Object(O.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.load();case 2:return n=e.sent,e.next=5,n.estimateSinglePose(t,{flipHorizontal:!1});case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(k,{page:"video"}),Object(r.jsx)("img",{src:W,id:"the-img",ref:this.IMG})]})}}]),n}(a.Component),A=function(e){Object(l.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)(h.a,{history:d,basename:"/htn-superpose",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)(j.Switch,{children:[Object(r.jsx)(j.Route,{path:"/",exact:!0,component:U}),Object(r.jsx)(j.Route,{path:"/video",exact:!0,component:K})]})})})}}]),n}(a.Component),G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,330)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},q=n(276),J=n.n(q);i.a.render(Object(r.jsx)(J.a,{basename:"/htn-superpose",children:Object(r.jsx)(A,{})}),document.getElementById("root")),G()}},[[325,1,2]]]);
//# sourceMappingURL=main.5a100bb1.chunk.js.map